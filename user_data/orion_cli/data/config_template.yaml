# === Orion CNS 4.0 User Configuration ===

identity_path: "user_data/orion/data/identity.yaml"
persona_path: "user_data/orion/data/persona.yaml"
semantic_path: "user_data/orion/data/semantic.yaml"

# Storage path for ChromaDB
chroma_path: "user_data/orion/chromadb"

# use "vendor/model_name" as used by HF embedding frameworks
embed_model_path: "user_data/orion/embeddings/jinaai-jina-v2-base-en"
embedding_model: "jinaai/jina-embeddings-v2-base-en"
embedding_dim: 768

# === Persona Rigidity ===
persona:
  rigidity: 0.5

# === Debug Settings ===
debug_mode: true # schema-required legacy/compat flag
debug:
  enabled: true # new/real debug control surface
  logic: true
  cognitive: true
  show_recall: true
  episodic_recall: true
  episodic_store: true
  short_descriptions: true
  semantic_nag: true

# === LTM Recall Tuning (optional) ===
ltm:
  topk_persona: 5
  topk_episodic: 10
  topk_semantic: 6
  semantic_enabled: true

# Optional: explicit collection names
collections:
  episodic: "orion_episodic_ltm_raw_v2"
  semantic: "orion_semantic_ltm"
  semantic_candidates: "orion_semantic_candidates"
  # optional:
  # persona: "orion_persona"

# === Archivist Model (Semantic Extractor) ===
# === Archivist Model (Semantic Extractor) ===
archivist:
  enabled: true
  provider: "openai_compat"
  base_url: "http://localhost:11434/v1"
  api_key: "ollama"
  model: "openhermes:latest"
  pool:  # window_turns and min_new_turns - how much chat Orion sends for extraction
    window_turns: 20  
    min_new_turns: 6
  # Generation controls
  temperature: 0.2
  max_tokens: 800
  timeout_s: 60
  # Safety: stage first, then promote manually
  write:
    target: "semantic_candidates"  # collection key from `collections:`
    auto_promote: false
    promote_min_confidence: 0.85